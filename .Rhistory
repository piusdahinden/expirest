summary(re)
print(re)
cat("\n\nAbbreviations: ARGPM: Australian Regulatory Guidelines for
Prescription Medicines; SL: Specification Limit; RL: Release Limit;
wisle: What-if (approach for) shelf life estimation; osle:
Ordinary shelf life estimation.")
cat("\n\nAbbreviations:",
"ARGPM: Australian Regulatory Guidelines for Prescription Medicines;",
"SL: Specification Limit; RL: Release Limit;",
"wisle: What-if (approach for) shelf life estimation;",
"osle: Ordinary shelf life estimation.",
"\n")
cat("\n\nAbbreviations:",
"ARGPM: Australian Regulatory Guidelines for Prescription Medicines;",
"SL: Specification Limit; RL: Release Limit;",
"wisle: What-if (approach for) shelf life estimation;",
"osle: Ordinary shelf life estimation.\n\n")
# setwd("C:/Users/piusd/Documents/Aktuell/")
# setwd("C:/pidata/RPackages/")
# create_package("expirest")
document()
re
# setwd("C:/Users/piusd/Documents/Aktuell/")
# setwd("C:/pidata/RPackages/")
# create_package("expirest")
document()
re
# setwd("C:/Users/piusd/Documents/Aktuell/")
# setwd("C:/pidata/RPackages/")
# create_package("expirest")
document()
re
# setwd("C:/Users/piusd/Documents/Aktuell/")
# setwd("C:/pidata/RPackages/")
# create_package("expirest")
document()
re
# setwd("C:/Users/piusd/Documents/Aktuell/")
# setwd("C:/pidata/RPackages/")
# create_package("expirest")
document()
re
library(boot)
?print.boot
# Successful estimation
tmp <-
expirest_osle(data = exp1[exp1$Batch %in% c("b2", "b5", "b7"), ],
response_vbl = "Potency", time_vbl = "Month",
batch_vbl = "Batch", sl = 95, sl_sf = 3,
srch_range = c(0, 500), alpha = 0.05, alpha_pool = 0.25,
xform = c("no", "no"), shift = c(0, 0), sf_option = "loose",
ivl = "confidence", ivl_type = "one.sided",
ivl_side = "lower")
library(devtools)
library(roxygen2)
library(testthat)
# setwd("C:/Users/piusd/Documents/Aktuell/")
# setwd("C:/pidata/RPackages/")
# create_package("expirest")
document()
# Successful estimation
tmp <-
expirest_osle(data = exp1[exp1$Batch %in% c("b2", "b5", "b7"), ],
response_vbl = "Potency", time_vbl = "Month",
batch_vbl = "Batch", sl = 95, sl_sf = 3,
srch_range = c(0, 500), alpha = 0.05, alpha_pool = 0.25,
xform = c("no", "no"), shift = c(0, 0), sf_option = "loose",
ivl = "confidence", ivl_type = "one.sided",
ivl_side = "lower")
tmp[["POI"]]
tmp <-
expirest_osle(data = exp3, response_vbl = "Moisture", time_vbl = "Month",
batch_vbl = "Batch", sl = 3.5, sl_sf = 2,
srch_range = c(0, 500), alpha = 0.05, alpha_pool = 0.25,
xform = c("no", "no"), shift = c(0, 0), sf_option = "loose",
ivl = "confidence", ivl_type = "two.sided",
ivl_side = "upper")
tmp <-
expirest_osle(data = exp3, response_vbl = "Moisture", time_vbl = "Month",
batch_vbl = "Batch", sl = 3.5, sl_sf = 2,
srch_range = c(0, 500), alpha = 0.05, alpha_pool = 0.25,
xform = c("no", "no"), shift = c(0, 0), sf_option = "loose",
ivl = "confidence", ivl_type = "two.sided",
ivl_side = "upper")
tmp[["POI"]]
tmp <-
expirest_osle(data = exp3, response_vbl = "Moisture", time_vbl = "Month",
batch_vbl = "Batch", sl = 3.5, sl_sf = 2,
srch_range = c(0, 500), alpha = 0.05, alpha_pool = 0.25,
xform = c("no", "no"), shift = c(0, 0), sf_option = "tight",
ivl = "confidence", ivl_type = "two.sided",
ivl_side = "upper")
tmp[["POI"]]
tmp <-
expirest_osle(
data = exp3, response_vbl = "Moisture", time_vbl = "Month",
batch_vbl = "Batch", sl = 1.5, sl_sf = 2, srch_range = c(0, 500),
alpha = 0.05, alpha_pool = 0.25, xform = c("no", "no"), shift = c(0, 0),
sf_option = "tight", ivl_type = "two.sided", ivl_side = "lower",
ivl = "prediction")
tmp
tmp[["POI"]]
str(tmp)
tmp[["POI"]]
is.na(tmp[["POI"]])
is.na(tmp[["POI"]][tmp[["Model.Type"]]$type.acronym])
# setwd("C:/Users/piusd/Documents/Aktuell/")
# setwd("C:/pidata/RPackages/")
# create_package("expirest")
document()
tmp <-
expirest_osle(
data = exp3, response_vbl = "Moisture", time_vbl = "Month",
batch_vbl = "Batch", sl = 1.5, sl_sf = 2, srch_range = c(0, 500),
alpha = 0.05, alpha_pool = 0.25, xform = c("no", "no"), shift = c(0, 0),
sf_option = "tight", ivl_type = "two.sided", ivl_side = "lower",
ivl = "prediction")
tmp
# Successful estimation
tmp <-
expirest_wisle(data = exp1[exp1$Batch %in% c("b2", "b5", "b7"), ],
response_vbl = "Potency", time_vbl = "Month",
batch_vbl = "Batch", rl = 98, rl_sf = 3, sl = 95,
sl_sf = 3, srch_range = c(0, 500), alpha = 0.05,
alpha_pool = 0.25, xform = c("no", "no"), shift = c(0, 0),
sf_option = "loose", ivl = "confidence",
ivl_type = "one.sided", side = "lower")
tmp[["POI"]]
# Successful estimation
tmp <-
expirest_wisle(data = exp1[exp1$Batch %in% c("b2", "b5", "b7"), ],
response_vbl = "Potency", time_vbl = "Month",
batch_vbl = "Batch", rl = 98, rl_sf = 3, sl = 95,
sl_sf = 3, srch_range = c(0, 500), alpha = 0.05,
alpha_pool = 0.25, xform = c("no", "no"), shift = c(0, 0),
sf_option = "tight", ivl = "confidence",
ivl_type = "one.sided", side = "lower")
tmp[["POI"]]
tmp <-
expirest_wisle(data = exp1[exp1$Batch %in% c("b2", "b5", "b7"), ],
response_vbl = "Potency", time_vbl = "Month",
batch_vbl = "Batch", rl = 98, rl_sf = 3, sl = 95,
sl_sf = 3, srch_range = c(0, 500), alpha = 1E-16,
alpha_pool = 0.25, xform = c("no", "no"), shift = c(0, 0),
sf_option = "tight", ivl = "confidence",
ivl_type = "one.sided", side = "lower")
tmp[["POI"]]
# Successful estimation
r.exp <-
expirest_osle(data = exp1[exp1$Batch %in% c("b2", "b5", "b7"), ],
response_vbl = "Potency", time_vbl = "Month",
batch_vbl = "Batch", sl = 95, sl_sf = 3,
srch_range = c(0, 500), alpha = 0.05, alpha_pool = 0.25,
xform = c("no", "no"), shift = c(0, 0), ivl = "confidence",
ivl_type = "one.sided", ivl_side = "lower")
# Graphical display
tmp <- plot(model = r.exp, show_grouping = "no", response_vbl_unit = "%",
y_range = c(93, 107), x_range = NULL, plot_option = "full",
ci_app = "ribbon")
tmp[["Expiry"]]
# Successful estimation
r.exp <-
expirest_osle(data = exp1[exp1$Batch %in% c("b2", "b5", "b7"), ],
response_vbl = "Potency", time_vbl = "Month",
batch_vbl = "Batch", sl = 95, sl_sf = 3,
srch_range = c(0, 500), alpha = 0.05, alpha_pool = 0.25,
xform = c("no", "no"), shift = c(0, 0), sf_option = "tight",
ivl = "confidence", ivl_type = "one.sided", ivl_side = "lower")
# Graphical display
tmp <- plot(model = r.exp, show_grouping = "no", response_vbl_unit = "%",
y_range = c(93, 107), x_range = NULL, plot_option = "full",
ci_app = "ribbon")
tmp[["Expiry"]]
tmp[["Graph"]]
# Successful estimation
r.exp <-
expirest_wisle(data = exp1[exp1$Batch %in% c("b2", "b5", "b7"), ],
response_vbl = "Potency", time_vbl = "Month",
batch_vbl = "Batch", rl = 98, rl_sf = 3, sl = 95,
sl_sf = 3, srch_range = c(0, 500), alpha = 0.05,
alpha_pool = 0.25, xform = c("no", "no"), shift = c(0, 0),
ivl = "confidence", ivl_type = "one.sided",
ivl_side = "lower")
# Graphical display
tmp <- plot(model = r.exp, rl_index = 1, show_grouping = "yes",
response_vbl_unit = "%", y_range = c(93, 107),
x_range = NULL, scenario = "standard", plot_option = "full",
ci_app = "ribbon")
tmp[["Expiry"]]
# Successful estimation
r.exp <-
expirest_wisle(data = exp1[exp1$Batch %in% c("b2", "b5", "b7"), ],
response_vbl = "Potency", time_vbl = "Month",
batch_vbl = "Batch", rl = 98, rl_sf = 3, sl = 95,
sl_sf = 3, srch_range = c(0, 500), alpha = 0.05,
alpha_pool = 0.25, xform = c("no", "no"), shift = c(0, 0),
sf_option = "tight", ivl = "confidence",
ivl_type = "one.sided", side = "lower")
# Graphical display
tmp <- plot(model = r.exp, rl_index = 1, show_grouping = "yes",
response_vbl_unit = "%", y_range = c(93, 107),
x_range = NULL, scenario = "standard", plot_option = "full",
ci_app = "ribbon")
tmp[["Expiry"]]
tmp[["Graph"]]
# setwd("C:/Users/piusd/Documents/Aktuell/")
# setwd("C:/pidata/RPackages/")
# create_package("expirest")
document()
test()
run_examples() #, start = "get_expiry.Rd")
tmp <-
expirest_wisle(data = exp1[exp1$Batch %in% c("b2", "b5", "b7"), ],
response_vbl = "Potency", time_vbl = "Month",
batch_vbl = "Batch", rl = 98, rl_sf = 3, sl = 95,
sl_sf = 3, srch_range = c(0, 500), alpha = 1E-16,
alpha_pool = 0.25, xform = c("no", "no"), shift = c(0, 0),
sf_option = "tight", ivl = "confidence",
ivl_type = "one.sided", side = "lower")
tmp
model <- tmp
model[["Model.Type"]]$type.acronym
model$wc.icpt[, model[["Model.Type"]]$type.acronym]
formatC(NA, 2)
?levels
library(devtools)
library(roxygen2)
library(testthat)
# setwd("C:/Users/piusd/Documents/Aktuell/")
# setwd("C:/pidata/RPackages/")
# create_package("expirest")
document()
# setwd("C:/Users/piusd/Documents/Aktuell/")
# setwd("C:/pidata/RPackages/")
# create_package("expirest")
document()
# setwd("C:/Users/piusd/Documents/Aktuell/")
# setwd("C:/pidata/RPackages/")
# create_package("expirest")
document()
library(devtools)
library(roxygen2)
library(testthat)
# setwd("C:/Users/piusd/Documents/Aktuell/")
# setwd("C:/pidata/RPackages/")
# create_package("expirest")
document()
# setwd("C:/Users/piusd/Documents/Aktuell/")
# setwd("C:/pidata/RPackages/")
# create_package("expirest")
document()
library(devtools)
library(roxygen2)
library(testthat)
# setwd("C:/Users/piusd/Documents/Aktuell/")
# setwd("C:/pidata/RPackages/")
# create_package("expirest")
document()
test()
library(devtools)
library(roxygen2)
library(testthat)
# setwd("C:/Users/piusd/Documents/Aktuell/")
# setwd("C:/pidata/RPackages/")
# create_package("expirest")
document()
test()
re <-
expirest_osle(data = exp1[exp1$Batch %in% c("b2", "b5", "b7"), ],
response_vbl = "Potency", time_vbl = "Month",
batch_vbl = "Batch", sl = 95, sl_sf = 2,
srch_range = c(0, 500), alpha = 0.05, alpha_pool = 0.25,
xform = c("no", "no"), shift = c(0, 0), sf_option = "tight",
ivl = "confidence", ivl_type = "one.sided",
ivl_side = "lower")
expect_is(re, "expirest_osle")
re <-
expirest_osle(data = exp4, response_vbl = "Conc", time_vbl = "Month",
batch_vbl = "Batch", sl = 95, sl_sf = 2,
srch_range = c(0, 500), alpha = 0.05, alpha_pool = 0.25,
xform = c("no", "no"), shift = c(0, 0), sf_option = "tight",
ivl = "confidence", ivl_type = "one.sided",
ivl_side = "lower")
r_mod <- stats::lm(Conc ~ Month * Batch, data = exp4)
usl <- 105
lsl <- 95
tmp <- find_poi(srch_range = c(0, 500), model = r_mod, sl = lsl,
alpha = 0.05, ivl_type = "one.sided",
ivl_side = "lower", ivl = "confidence")
expect_is(re, "expirest_osle")
t_dat1 <- exp1[exp1$Batch %in% c("b2", "b5", "b7"), ]
t_dat2 <- exp1[exp1$Batch %in% c("b3", "b5", "b5"), ]
t_dat3 <- exp1[exp1$Batch %in% c("b4", "b5", "b8"), ]
usl <- 105
lsl <- 95
lrl <- 98
r_exp1 <-
expirest_wisle(
data = t_dat1, response_vbl = "Potency", time_vbl = "Month",
batch_vbl = "Batch", rl = lrl, rl_sf = 2, sl = lsl, sl_sf = 2,
srch_range = c(0, 500), alpha = 0.05, alpha_pool = 0.25,
xform = c("no", "no"), shift = c(0, 0), sf_option = "loose",
ivl = "confidence", ivl_type = "one.sided", ivl_side = "lower")
r_exp2 <-
expirest_wisle(
data = t_dat2, response_vbl = "Potency", time_vbl = "Month",
batch_vbl = "Batch", rl = lrl, rl_sf = 2, sl = lsl, sl_sf = 2,
srch_range = c(0, 500), alpha = 0.05, alpha_pool = 0.25,
xform = c("no", "no"), shift = c(0, 0), sf_option = "loose",
ivl = "confidence", ivl_type = "one.sided", ivl_side = "lower")
r_exp3 <-
expirest_wisle(
data = t_dat3, response_vbl = "Potency", time_vbl = "Month",
batch_vbl = "Batch", rl = lrl, rl_sf = 2, sl = lsl, sl_sf = 2,
srch_range = c(0, 500), alpha = 0.05, alpha_pool = 0.25,
xform = c("no", "no"), shift = c(0, 0), sf_option = "loose",
ivl = "confidence", ivl_type = "one.sided", ivl_side = "lower")
expect_is(r_exp1, "expirest_wisle")
expect_is(r_exp2, "expirest_wisle")
expect_is(r_exp3, "expirest_wisle")
re <-
expirest_osle(data = exp1[exp1$Batch %in% c("b2", "b5", "b7"), ],
response_vbl = "Potency", time_vbl = "Month",
batch_vbl = "Batch", sl = 95, sl_sf = 2,
srch_range = c(0, 500), alpha = 0.05, alpha_pool = 0.25,
xform = c("no", "no"), shift = c(0, 0), sf_option = "tight",
ivl = "confidence", ivl_type = "one.sided",
ivl_side = "lower")
summary(re)
expect_output(summary(re), "cics")
# setwd("C:/Users/piusd/Documents/Aktuell/")
# setwd("C:/pidata/RPackages/")
# create_package("expirest")
document()
re <-
expirest_osle(data = exp1[exp1$Batch %in% c("b2", "b5", "b7"), ],
response_vbl = "Potency", time_vbl = "Month",
batch_vbl = "Batch", sl = 95, sl_sf = 2,
srch_range = c(0, 500), alpha = 0.05, alpha_pool = 0.25,
xform = c("no", "no"), shift = c(0, 0), sf_option = "tight",
ivl = "confidence", ivl_type = "one.sided",
ivl_side = "lower")
summary(re)
summary(re, digits = 15)
tmp <- options(digits = 15)
tmp
summary(re)
options(digits = tmp)
options(digits = as.numeric(tmp))
summary(re)
print(re)
# setwd("C:/Users/piusd/Documents/Aktuell/")
# setwd("C:/pidata/RPackages/")
# create_package("expirest")
document()
summary(re)
summary(re, digits = 5)
# setwd("C:/Users/piusd/Documents/Aktuell/")
# setwd("C:/pidata/RPackages/")
# create_package("expirest")
document()
summary(re)
# setwd("C:/Users/piusd/Documents/Aktuell/")
# setwd("C:/pidata/RPackages/")
# create_package("expirest")
document()
summary(re)
summary(re, digits = 5)
# setwd("C:/Users/piusd/Documents/Aktuell/")
# setwd("C:/pidata/RPackages/")
# create_package("expirest")
document()
summary(re)
summary(re, digits = 9)
# setwd("C:/Users/piusd/Documents/Aktuell/")
# setwd("C:/pidata/RPackages/")
# create_package("expirest")
document()
summary(re)
summary(re, digits = 9)
# setwd("C:/Users/piusd/Documents/Aktuell/")
# setwd("C:/pidata/RPackages/")
# create_package("expirest")
document()
summary(re)
summary(re, digits = 9)
# setwd("C:/Users/piusd/Documents/Aktuell/")
# setwd("C:/pidata/RPackages/")
# create_package("expirest")
document()
summary(re)
summary(re, digits = 9)
library(testthat)
# setwd("C:/Users/piusd/Documents/Aktuell/")
# setwd("C:/pidata/RPackages/")
# create_package("expirest")
document()
expect_output(summary(re), "cics")
summary(re)
summary(re, digits = 5)
expect_output(summary(re), "cics")
expect_output(summary(re), "batch: b2")
expect_output(summary(re, digits = 5), "intercept: 100.57")
expect_output(summary(re, digits = 5), "model: 25.996")
re <-
expirest_osle(data = exp1[exp1$Batch %in% c("b2", "b5", "b7"), ],
response_vbl = "Potency", time_vbl = "Month",
batch_vbl = "Batch", sl = 95, sl_sf = 2,
srch_range = c(0, 500), alpha = 0.05, alpha_pool = 0.25,
xform = c("no", "no"), shift = c(0, 0), sf_option = "tight",
ivl = "confidence", ivl_type = "one.sided",
ivl_side = "lower")
expect_output(print(re), "cics")
expect_output(print(re), "batch: b2")
expect_output(print(re, digits = 5), "intercept: 100.57")
expect_output(print(re, digits = 5), "model: 25.996")
re <-
expirest_wisle(data = exp1[exp1$Batch %in% c("b2", "b5", "b7"), ],
response_vbl = "Potency", time_vbl = "Month",
batch_vbl = "Batch", sl = 95, sl_sf = 2,
srch_range = c(0, 500), alpha = 0.05, alpha_pool = 0.25,
xform = c("no", "no"), shift = c(0, 0), sf_option = "tight",
ivl = "confidence", ivl_type = "one.sided",
ivl_side = "lower")
re <-
expirest_wisle(
data = exp3, response_vbl = "Moisture", time_vbl = "Month",
batch_vbl = "Batch", rl = lrl, rl_sf = 3, sl = lsl, sl_sf = 2,
srch_range = c(0, 500), alpha = 0.05, alpha_pool = 0.25,
xform = c("no", "no"), shift = c(0, 0), sf_option = "loose",
ivl = "confidence", ivl_type = "one.sided", ivl_side = "lower")
lrl
url
re <-
expirest_wisle(
data = exp3, response_vbl = "Moisture", time_vbl = "Month",
batch_vbl = "Batch", rl = 2.0, rl_sf = 3, sl = 0.5, sl_sf = 2,
srch_range = c(0, 500), alpha = 0.05, alpha_pool = 0.25,
xform = c("no", "no"), shift = c(0, 0), sf_option = "loose",
ivl = "confidence", ivl_type = "one.sided", ivl_side = "lower")
summary(re)
summary(re, digits = 5)
expect_output(summary(re, digits = 5), "cics 0.5  2 92.999 118.19")
re <-
expirest_wisle(
data = exp3, response_vbl = "Moisture", time_vbl = "Month",
batch_vbl = "Batch", rl = 2.0, rl_sf = 3, sl = 0.5, sl_sf = 2,
srch_range = c(0, 500), alpha = 0.05, alpha_pool = 0.25,
xform = c("no", "no"), shift = c(0, 0), sf_option = "loose",
ivl = "confidence", ivl_type = "one.sided", ivl_side = "lower")
expect_output(plot(re), "cics")
expect_output(print(re), "cics")
expect_output(print(re), "batch(es): b1")
expect_output(print(re, digits = 5), "cics 0.5  2 92.999 118.19")
print(re)
expect_output(print(re), "cics")
expect_output(print(re), "batch(es): b1")
expect_output(print(re), "batch(es): b1")
expect_output(print(re), "b1")
expect_output(print(re, digits = 5), "cics 0.5  2 92.999 118.19")
expect_output(summary(re), "batch(es): b1")
expect_output(summary(re), "b1")
re <-
expirest_osle(data = exp1[exp1$Batch %in% c("b2", "b5", "b7"), ],
response_vbl = "Potency", time_vbl = "Month",
batch_vbl = "Batch", sl = 95, sl_sf = 2,
srch_range = c(0, 500), alpha = 0.05, alpha_pool = 0.25,
xform = c("no", "no"), shift = c(0, 0), sf_option = "tight",
ivl = "confidence", ivl_type = "one.sided",
ivl_side = "lower")
expect_output(print(re), "batch: b2")
expect_output(print(re), "batch:  b2")
test()
check(manual = TRUE)
# setwd("C:/Users/piusd/Documents/Aktuell/")
# setwd("C:/pidata/RPackages/")
# create_package("expirest")
document()
test()
run_examples() #, start = "get_expiry.Rd")
run_examples() #, start = "get_expiry.Rd")
check(manual = TRUE)
exp1
class(exp1)
save(exp1, exp1.RData)
save(exp1, "exp1.RData")
str(exp1)
save(exp1, file = "exp1.RData")
save(exp2, file = "exp2.RData")
save(exp3, file = "exp3.RData")
save(exp4, file = "exp4.RData")
check(manual = TRUE, cran = TRUE)
library(devtools)
library(roxygen2)
library(testthat)
# setwd("C:/Users/piusd/Documents/Aktuell/")
# setwd("C:/pidata/RPackages/")
# create_package("expirest")
document()
re <-
expirest_osle(data = exp1[exp1$Batch %in% c("b2", "b5", "b7"), ],
response_vbl = "Potency", time_vbl = "Month",
batch_vbl = "Batch", sl = 95, sl_sf = 2,
srch_range = c(0, 500), alpha = 0.05, alpha_pool = 0.25,
xform = c("no", "no"), shift = c(0, 0), sf_option = "tight",
ivl = "confidence", ivl_type = "one.sided",
ivl_side = "lower")
tmp1 <- summary(re)
tmp2 <- summary(re, digits = 5)
class(tmp1)
expect_is(summary(re), "expirest_osle")
expect_is(print(re), "expirest_osle")
